---
import FigureImage from "@components/FigureImage.astro";
---

<Fragment slot="head">
  <link rel="preconnect" href="https://scrobbled.tepiloxtl.net" />
  <link rel="preconnect" href="https://lastfm.freetls.fastly.net" crossorigin />
</Fragment>

<div class="songBox">
  <h2 id="lastfm-status">Loading...</h2>
  <FigureImage
    id="trackCover"
    class="trackCover"
    decoding="async"
    loading="lazy"
    src="/src/assets/images/nekofm/loading.png"
    height={150}
    width={150}
    caption={false}
  />
  <div class="trackInfo" id="trackInfo">
    <h2 class="trackName" id="trackName">Loading...</h2>
    <p class="artistName" id="artistName">Loading...</p>
    <p class="siteName" id="siteName"></p>
  </div>
</div>
<script src="/src/scripts/main/lastfm.ts"></script>

<style>
  .songBox {
    max-width: 20ch;

    .trackCover {
      margin: auto;
      padding-block: 1rem;
      filter: drop-shadow(0 0 2rem var(--accent-700));
    }

    .trackName {
      font-size: var(--fs-600);
    }
  }
</style>
