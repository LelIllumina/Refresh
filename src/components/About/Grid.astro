---
import FigureImage from "../FigureImage.astro";

export interface ImageItem {
  src: string;
  alt: string;
  href?: string;
  position?: string;
  style?: string;
}
export interface Props {
  title: string;
  subtitle: string;
  images: ImageItem[];
}
const { title, subtitle, images } = Astro.props;
---

<div class="grid">
  {
    images.map((img) => (
      <FigureImage
        src={img.src}
        alt={img.alt}
        href={img.href}
        position={img.position}
        width={256}
        height={256}
        fit="cover"
        format="avif"
        loading="eager"
      />
    ))
  }
  <div class="title">
    <h1>{subtitle}</h1>
    <h2>{title}</h2>
  </div>
  <div class="contents">
    <slot>
      <a href="../">Go Back</a>
    </slot>
  </div>
</div>

<style>
  .grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(128px, 1fr));
    gap: clamp(2rem, 4vw, 8rem);
    place-content: center center;
    align-items: center;

    aspect-ratio: 1 / 1;
    height: 70vh;
    margin-block: 2rem;
    margin-inline: auto;

    figure {
      width: fit-content;
      margin: auto;

      & figcaption {
        position: absolute;

        width: 128px;
        margin-block: 0.5rem;

        font-size: 1rem;
        text-align: center;

        opacity: 0;

        transition: opacity 0.3s ease;
      }

      &:hover figcaption {
        opacity: 1;
      }
    }

    img {
      transform: translateZ(0);

      width: 128px;
      height: 128px;
      border-radius: 0.5rem;

      object-fit: cover;
    }
  }

  .title {
    grid-column: span 3;
    grid-row: 2;
    margin-inline-start: 2em;

    h1,
    h2 {
      margin: 0;
      font-family: Blaster, sans-serif;
      color: var(--accent-950);
    }

    h1 {
      font-size: clamp(1rem, 4vw, 2rem);
    }

    h2 {
      font-size: clamp(2rem, 4vw, 4rem);
    }
  }
</style>
